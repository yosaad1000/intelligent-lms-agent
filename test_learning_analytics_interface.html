<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Analytics Testing Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .test-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #3498db;
        }

        .test-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .test-card h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .test-button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .test-button:hover {
            background: linear-gradient(135deg, #2980b9, #1f5f8b);
            transform: translateY(-2px);
        }

        .test-button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #2c3e50;
            font-weight: 500;
        }

        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus, .input-group textarea:focus {
            outline: none;
            border-color: #3498db;
        }

        .response-area {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-success { background-color: #27ae60; }
        .status-error { background-color: #e74c3c; }
        .status-loading { background-color: #f39c12; animation: pulse 1.5s infinite; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .analytics-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 8px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #3498db, #2ecc71);
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .agent-info {
            background: #e8f4fd;
            border: 1px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .agent-info h4 {
            color: #2980b9;
            margin-bottom: 10px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .feature-item {
            background: white;
            padding: 10px;
            border-radius: 5px;
            border-left: 3px solid #3498db;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Learning Analytics Testing Interface</h1>
            <p>Test comprehensive learning analytics and progress tracking capabilities</p>
        </div>

        <div class="content">
            <!-- Agent Information -->
            <div class="agent-info">
                <h4>ü§ñ Bedrock Agent Configuration</h4>
                <p><strong>Agent ID:</strong> ZTBBVSC6Y1</p>
                <p><strong>Alias:</strong> TSTALIASID (Production)</p>
                <p><strong>Model:</strong> Amazon Nova Micro</p>
                
                <div class="feature-list">
                    <div class="feature-item">üìà Learning Progress Analysis</div>
                    <div class="feature-item">üß† Concept Mastery Calculation</div>
                    <div class="feature-item">üí° Personalized Recommendations</div>
                    <div class="feature-item">üòä Sentiment Analysis</div>
                    <div class="feature-item">üë®‚Äçüè´ Teacher Analytics</div>
                    <div class="feature-item">üìä Real-time Tracking</div>
                </div>
            </div>

            <!-- Learning Progress Analysis -->
            <div class="test-section">
                <h3>üìà Learning Progress Analysis</h3>
                <div class="test-grid">
                    <div class="test-card">
                        <h4>Comprehensive Progress Analysis</h4>
                        <div class="input-group">
                            <label>User ID:</label>
                            <input type="text" id="progressUserId" value="demo_user" placeholder="Enter user ID">
                        </div>
                        <div class="input-group">
                            <label>Time Period (days):</label>
                            <select id="progressDays">
                                <option value="7">Last 7 days</option>
                                <option value="30" selected>Last 30 days</option>
                                <option value="90">Last 90 days</option>
                            </select>
                        </div>
                        <button class="test-button" onclick="testProgressAnalysis()">
                            <span class="status-indicator" id="progressStatus"></span>
                            Analyze Learning Progress
                        </button>
                    </div>

                    <div class="test-card">
                        <h4>Subject-Specific Progress</h4>
                        <div class="input-group">
                            <label>Subject:</label>
                            <select id="progressSubject">
                                <option value="physics">Physics</option>
                                <option value="mathematics">Mathematics</option>
                                <option value="chemistry">Chemistry</option>
                                <option value="biology">Biology</option>
                            </select>
                        </div>
                        <button class="test-button" onclick="testSubjectProgress()">
                            <span class="status-indicator" id="subjectProgressStatus"></span>
                            Analyze Subject Progress
                        </button>
                    </div>
                </div>
            </div>

            <!-- Concept Mastery -->
            <div class="test-section">
                <h3>üß† Concept Mastery Calculation</h3>
                <div class="test-grid">
                    <div class="test-card">
                        <h4>Overall Concept Mastery</h4>
                        <div class="input-group">
                            <label>User ID:</label>
                            <input type="text" id="masteryUserId" value="demo_user">
                        </div>
                        <button class="test-button" onclick="testConceptMastery()">
                            <span class="status-indicator" id="masteryStatus"></span>
                            Calculate Concept Mastery
                        </button>
                    </div>

                    <div class="test-card">
                        <h4>Specific Concept Analysis</h4>
                        <div class="input-group">
                            <label>Concept:</label>
                            <input type="text" id="specificConcept" placeholder="e.g., Newton's Laws, Calculus">
                        </div>
                        <button class="test-button" onclick="testSpecificConcept()">
                            <span class="status-indicator" id="specificConceptStatus"></span>
                            Analyze Specific Concept
                        </button>
                    </div>
                </div>
            </div>

            <!-- Personalized Recommendations -->
            <div class="test-section">
                <h3>üí° Personalized Learning Recommendations</h3>
                <div class="test-grid">
                    <div class="test-card">
                        <h4>Study Recommendations</h4>
                        <div class="input-group">
                            <label>Learning Goal:</label>
                            <select id="learningGoal">
                                <option value="improve_weak_areas">Improve Weak Areas</option>
                                <option value="advance_strengths">Advance Strengths</option>
                                <option value="exam_preparation">Exam Preparation</option>
                                <option value="general_improvement">General Improvement</option>
                            </select>
                        </div>
                        <button class="test-button" onclick="testRecommendations()">
                            <span class="status-indicator" id="recommendationsStatus"></span>
                            Get Recommendations
                        </button>
                    </div>

                    <div class="test-card">
                        <h4>Learning Path Optimization</h4>
                        <div class="input-group">
                            <label>Current Level:</label>
                            <select id="currentLevel">
                                <option value="beginner">Beginner</option>
                                <option value="intermediate" selected>Intermediate</option>
                                <option value="advanced">Advanced</option>
                            </select>
                        </div>
                        <button class="test-button" onclick="testLearningPath()">
                            <span class="status-indicator" id="learningPathStatus"></span>
                            Optimize Learning Path
                        </button>
                    </div>
                </div>
            </div>

            <!-- Interaction Tracking -->
            <div class="test-section">
                <h3>üìä Learning Interaction Tracking</h3>
                <div class="test-card">
                    <h4>Track Learning Activity</h4>
                    <div class="input-group">
                        <label>Interaction Type:</label>
                        <select id="interactionType">
                            <option value="chat">Chat/Question</option>
                            <option value="quiz">Quiz Attempt</option>
                            <option value="document_study">Document Study</option>
                            <option value="voice_interview">Voice Interview</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Learning Content:</label>
                        <textarea id="learningContent" rows="3" placeholder="Describe what you learned or studied..."></textarea>
                    </div>
                    <div class="input-group">
                        <label>Difficulty Level:</label>
                        <select id="difficultyLevel">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    <button class="test-button" onclick="testInteractionTracking()">
                        <span class="status-indicator" id="trackingStatus"></span>
                        Track Interaction
                    </button>
                </div>
            </div>

            <!-- Teacher Analytics -->
            <div class="test-section">
                <h3>üë®‚Äçüè´ Teacher Analytics Dashboard</h3>
                <div class="test-grid">
                    <div class="test-card">
                        <h4>Class Performance Analytics</h4>
                        <div class="input-group">
                            <label>Class ID:</label>
                            <input type="text" id="classId" value="physics_101" placeholder="Enter class ID">
                        </div>
                        <div class="input-group">
                            <label>Subject:</label>
                            <input type="text" id="teacherSubject" value="physics" placeholder="Enter subject">
                        </div>
                        <button class="test-button" onclick="testTeacherAnalytics()">
                            <span class="status-indicator" id="teacherStatus"></span>
                            Generate Teacher Analytics
                        </button>
                    </div>

                    <div class="test-card">
                        <h4>Student Risk Assessment</h4>
                        <div class="input-group">
                            <label>Assessment Period:</label>
                            <select id="assessmentPeriod">
                                <option value="7">Last Week</option>
                                <option value="30" selected>Last Month</option>
                                <option value="90">Last Quarter</option>
                            </select>
                        </div>
                        <button class="test-button" onclick="testRiskAssessment()">
                            <span class="status-indicator" id="riskStatus"></span>
                            Assess Student Risk
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sentiment Analysis -->
            <div class="test-section">
                <h3>üòä Sentiment Analysis & Engagement</h3>
                <div class="test-card">
                    <h4>Analyze Learning Sentiment</h4>
                    <div class="input-group">
                        <label>Learning Experience:</label>
                        <textarea id="sentimentText" rows="3" placeholder="Describe your learning experience, feelings, or challenges..."></textarea>
                    </div>
                    <button class="test-button" onclick="testSentimentAnalysis()">
                        <span class="status-indicator" id="sentimentStatus"></span>
                        Analyze Sentiment
                    </button>
                </div>
            </div>

            <!-- Response Area -->
            <div class="response-area" id="responseArea">
                ü§ñ Learning Analytics responses will appear here...
                
Ready to test comprehensive learning analytics capabilities!

Available Tests:
‚Ä¢ Learning Progress Analysis with sentiment tracking
‚Ä¢ Concept Mastery calculation using Knowledge Base similarity
‚Ä¢ Personalized learning recommendations with AI insights
‚Ä¢ Real-time interaction tracking and engagement scoring
‚Ä¢ Teacher analytics dashboard with class performance insights
‚Ä¢ Sentiment analysis integration with Amazon Comprehend

Click any test button above to begin testing the analytics functionality.
            </div>

            <!-- Analytics Dashboard -->
            <div class="analytics-dashboard">
                <div class="metric-card">
                    <div class="metric-value" id="testCount">0</div>
                    <div class="metric-label">Tests Executed</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="successRate">0%</div>
                    <div class="metric-label">Success Rate</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="avgResponseTime">0ms</div>
                    <div class="metric-label">Avg Response Time</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="analyticsFeatures">6</div>
                    <div class="metric-label">Analytics Features</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let testCount = 0;
        let successCount = 0;
        let totalResponseTime = 0;

        function updateMetrics(responseTime, success) {
            testCount++;
            totalResponseTime += responseTime;
            if (success) successCount++;

            document.getElementById('testCount').textContent = testCount;
            document.getElementById('successRate').textContent = Math.round((successCount / testCount) * 100) + '%';
            document.getElementById('avgResponseTime').textContent = Math.round(totalResponseTime / testCount) + 'ms';
        }

        function setStatus(elementId, status) {
            const element = document.getElementById(elementId);
            element.className = `status-indicator status-${status}`;
        }

        function logResponse(message, type = 'info') {
            const responseArea = document.getElementById('responseArea');
            const timestamp = new Date().toLocaleTimeString();
            const prefix = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : 'üìä';
            
            responseArea.textContent += `\n\n[${timestamp}] ${prefix} ${message}`;
            responseArea.scrollTop = responseArea.scrollHeight;
        }

        async function callAnalyticsAPI(message, statusElementId) {
            const startTime = Date.now();
            setStatus(statusElementId, 'loading');
            
            try {
                logResponse(`Testing: ${message}`);
                
                // Simulate API call (replace with actual Bedrock Agent call)
                const response = await simulateAnalyticsCall(message);
                
                const responseTime = Date.now() - startTime;
                setStatus(statusElementId, 'success');
                updateMetrics(responseTime, true);
                
                logResponse(`Response: ${response}`, 'success');
                return response;
                
            } catch (error) {
                const responseTime = Date.now() - startTime;
                setStatus(statusElementId, 'error');
                updateMetrics(responseTime, false);
                
                logResponse(`Error: ${error.message}`, 'error');
                throw error;
            }
        }

        async function simulateAnalyticsCall(message) {
            // Simulate network delay
            await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
            
            // Simulate different types of analytics responses
            if (message.includes('progress')) {
                return `Learning Progress Analysis:
‚Ä¢ Engagement Score: 85%
‚Ä¢ Concept Mastery: 72%
‚Ä¢ Learning Velocity: High
‚Ä¢ Sentiment: Positive (0.78 confidence)
‚Ä¢ Recommendations: Focus on advanced topics, maintain current pace
‚Ä¢ Strengths: Problem-solving, theoretical understanding
‚Ä¢ Areas for improvement: Practical applications`;
            } else if (message.includes('mastery')) {
                return `Concept Mastery Analysis:
‚Ä¢ Physics Mechanics: 85%
‚Ä¢ Thermodynamics: 67%
‚Ä¢ Electromagnetism: 72%
‚Ä¢ Quantum Physics: 45%
‚Ä¢ Overall Mastery: 67%
‚Ä¢ Learning Pattern: Visual learner, prefers examples
‚Ä¢ Next Focus: Quantum physics fundamentals`;
            } else if (message.includes('recommend')) {
                return `Personalized Learning Recommendations:
1. Focus on quantum physics - current mastery at 45%
2. Practice more thermodynamics problems
3. Use visual learning resources for complex concepts
4. Schedule regular review sessions
5. Join study groups for collaborative learning
6. Take practice quizzes weekly`;
            } else if (message.includes('track')) {
                return `Interaction Tracking Results:
‚Ä¢ Interaction Type: Chat/Study session
‚Ä¢ Engagement Score: 0.82
‚Ä¢ Concepts Identified: thermodynamics, heat transfer, entropy
‚Ä¢ Sentiment: Positive with slight frustration
‚Ä¢ Mastery Updates: +0.05 thermodynamics
‚Ä¢ Learning Insights: Student shows good understanding but needs more practice`;
            } else if (message.includes('teacher') || message.includes('class')) {
                return `Teacher Analytics Dashboard:
‚Ä¢ Class Average: 78%
‚Ä¢ At-Risk Students: 3 (15%)
‚Ä¢ Top Performers: 5 (25%)
‚Ä¢ Engagement Trend: Increasing (+12% this month)
‚Ä¢ Common Challenges: Quantum mechanics, complex problem solving
‚Ä¢ Recommendations: Additional quantum physics resources, peer tutoring program`;
            } else if (message.includes('sentiment')) {
                return `Sentiment Analysis Results:
‚Ä¢ Overall Sentiment: Mixed (Positive: 0.65, Negative: 0.35)
‚Ä¢ Key Emotions: Excitement about experiments, frustration with theory
‚Ä¢ Engagement Level: High (0.78)
‚Ä¢ Motivation Indicators: Strong intrinsic motivation
‚Ä¢ Recommendations: Balance theory with hands-on activities`;
            }
            
            return `Analytics processing complete. The learning analytics system has analyzed your request and provided comprehensive insights based on user interaction data, sentiment analysis, and concept mastery calculations.`;
        }

        // Test Functions
        async function testProgressAnalysis() {
            const userId = document.getElementById('progressUserId').value;
            const days = document.getElementById('progressDays').value;
            const message = `Show my comprehensive learning progress for the last ${days} days. My user ID is ${userId}. Include sentiment analysis and engagement metrics.`;
            
            await callAnalyticsAPI(message, 'progressStatus');
        }

        async function testSubjectProgress() {
            const subject = document.getElementById('progressSubject').value;
            const message = `Analyze my learning progress in ${subject}. Show concept mastery, performance trends, and improvement areas.`;
            
            await callAnalyticsAPI(message, 'subjectProgressStatus');
        }

        async function testConceptMastery() {
            const userId = document.getElementById('masteryUserId').value;
            const message = `Calculate my concept mastery levels across all subjects. Use Knowledge Base similarity analysis. My user ID is ${userId}.`;
            
            await callAnalyticsAPI(message, 'masteryStatus');
        }

        async function testSpecificConcept() {
            const concept = document.getElementById('specificConcept').value || 'Newton\'s Laws';
            const message = `Calculate my mastery level for ${concept} using document similarity analysis and interaction history.`;
            
            await callAnalyticsAPI(message, 'specificConceptStatus');
        }

        async function testRecommendations() {
            const goal = document.getElementById('learningGoal').value;
            const message = `Give me personalized learning recommendations for ${goal.replace('_', ' ')}. Base recommendations on my learning analytics data.`;
            
            await callAnalyticsAPI(message, 'recommendationsStatus');
        }

        async function testLearningPath() {
            const level = document.getElementById('currentLevel').value;
            const message = `Optimize my learning path for ${level} level. Provide personalized recommendations based on my progress analytics.`;
            
            await callAnalyticsAPI(message, 'learningPathStatus');
        }

        async function testInteractionTracking() {
            const type = document.getElementById('interactionType').value;
            const content = document.getElementById('learningContent').value || 'Studied thermodynamics and found it challenging but interesting';
            const difficulty = document.getElementById('difficultyLevel').value;
            const message = `Track this learning interaction: Type: ${type}, Content: ${content}, Difficulty: ${difficulty}. Analyze engagement and update concept mastery.`;
            
            await callAnalyticsAPI(message, 'trackingStatus');
        }

        async function testTeacherAnalytics() {
            const classId = document.getElementById('classId').value;
            const subject = document.getElementById('teacherSubject').value;
            const message = `Generate comprehensive teacher analytics for class ${classId} in ${subject}. Include class performance, at-risk students, and teaching recommendations.`;
            
            await callAnalyticsAPI(message, 'teacherStatus');
        }

        async function testRiskAssessment() {
            const period = document.getElementById('assessmentPeriod').value;
            const message = `Assess student risk levels for the last ${period} days. Identify students who need additional support and provide intervention recommendations.`;
            
            await callAnalyticsAPI(message, 'riskStatus');
        }

        async function testSentimentAnalysis() {
            const text = document.getElementById('sentimentText').value || 'I\'m feeling frustrated with calculus but excited about physics experiments';
            const message = `Analyze the sentiment and engagement level of this learning experience: "${text}". Provide insights and recommendations.`;
            
            await callAnalyticsAPI(message, 'sentimentStatus');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            logResponse('Learning Analytics Testing Interface Initialized');
            logResponse('Ready to test comprehensive analytics capabilities');
        });
    </script>
</body>
</html>